<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
        <title>SVG ID and Attributes Converter</title>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    </head>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            font-size: 16px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-top: 40px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        h2 {
            margin-top: 0;
            margin-bottom: 30px;
            font-size: 36px;
        }

        form {
            margin-bottom: 20px;
        }

        label {
            font-weight: bold;
        }

        textarea,
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 16px;
        }

        button {
            background-color: #1837e6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 3px;
            cursor: pointer;
        }

        button:hover {
            background-color: #1a31b3;
        }

        #output {
            resize: vertical;
        }

        .copy-vbutton {
            background-color: #1837e6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 10px;
        }
        .diff-img{
            width: 100%;
            max-width: 1200px;
            margin-inline:auto ;
            display: block;
            margin-block: 100px;
            border-radius: 10px;
            border: 1px solid #ccc;
        }
        .copy-vbutton:hover {
            background-color: #1a31b3;
        }
    </style>
    <body>
        <div class="container">
            <h2>SVG ID and Attributes Converter</h2>
            <form>
                <label for="svgInput">Paste your SVG code:</label><br />
                <textarea id="svgInput" rows="10" cols="50"></textarea><br />
                <br />
                <label for="newText">Enter text for clip-path:</label>
                <input type="text" id="newText" /><br />
                <br />
                <button id="convertButton" type="button">Convert IDs and Attributes</button>
            </form>
            <br />
            <label for="output">Converted SVG code:</label><br />
            <textarea id="output" rows="10" cols="50"></textarea>
            <button class="copy-vbutton" id="copyButton">Copy Output</button>

        </div>
        <img class="diff-img" src="computed-diff-diff-checker.png" alt="computed-diff-diff-checker">

        <script>
            $(document).ready(function () {
                $("#convertButton").click(function () {
                    var inputSvg = $("#svgInput").val();
                    var newText = $("#newText").val();
                    var outputSvg = convertSvgIdsAndAttributes(inputSvg, newText);
                    $("#output").val(outputSvg);
                });

                $("#copyButton").click(function () {
                    copyToClipboard("#output");
                });

                function convertSvgIdsAndAttributes(svgCode, newText) {
                    var parser = new DOMParser();
                    var svgDoc = parser.parseFromString(svgCode, "image/svg+xml");
                    var svgElements = $(svgDoc).find("[id]");

                    svgElements.each(function (index, element) {
                        var oldId = $(element).attr("id");
                        var newId = newText + oldId;
                        $(element).attr("id", newId);
                    });

                    var clipPathElements = $(svgDoc).find("[clip-path]");
                    clipPathElements.each(function (index, element) {
                        var oldClipPathValue = $(element).attr("clip-path");
                        var newClipPathValue = oldClipPathValue.replace(/url\(#clip-path\)/g, "url(#" + newText + "clip-path)");
                        $(element).attr("clip-path", newClipPathValue);
                    });

                    return svgDoc.documentElement.outerHTML;
                }

                function copyToClipboard(elementSelector) {
                    var copyText = $(elementSelector)[0];
                    copyText.select();
                    document.execCommand("copy");
                    alert("Copied the text: " + copyText.value);
                }
            });
        </script>
    </body>
</html>
